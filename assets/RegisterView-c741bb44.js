import{o as i,c as d,a as p,e as y,t as f,m as w,n as v,u as b,r as c,b as o,d as V,_ as g,f as _,F as x,h as q,i as k,j as P,k as $,l as h,p as U}from"./index-1ac97501.js";const C=["for"],S={key:0,class:"text-palette-primary-500"},j=["required","type","id","value"],N=["required","type","id"],u={__name:"Input",props:["type","label","modelValue","required"],emits:["update:modelValue"],setup(m){const a=m;return(e,r)=>(i(),d("div",{class:"flex flex-col w-full gap-2",style:v({gridArea:a.label})},[p("label",{for:a.label},[y(f(a.label.replace("_"," "))+" ",1),a.required?(i(),d("span",S,"*")):w("",!0)],8,C),a.type!=="file"?(i(),d("input",{key:0,required:a.required,type:a.type,id:a.label,value:m.modelValue,onInput:r[0]||(r[0]=n=>e.$emit("update:modelValue",n.target.value))},null,40,j)):(i(),d("input",{key:1,required:a.required,accept:"application/pdf",type:a.type,id:a.label,onChange:r[1]||(r[1]=n=>console.log(n))},null,40,N))],4))}},E=p("h1",{class:"text-palette-primary-500 xl:text-[4rem] dark:text-soft-white gap-4 text-[2rem] font-bold"}," Join Virtual world ",-1),F={__name:"RegisterWithPassword",setup(m){const a=b(),e=c({email:"",password:"",confirmPassword:"",firstname:"",lastname:"",society:"",url:""}),r=c(),n=async()=>{try{var s=new FormData;s.append("email",e.value.email),s.append("password",e.value.password),s.append("confirmPassword",e.value.confirmPassword),s.append("societyName",e.value.society),s.append("url",e.value.url),s.append("firstname",e.value.firstname),s.append("lastname",e.value.lastname),s.append("kbis",r.value);var l={method:"POST",body:s,redirect:"follow"};if((await fetch("http://localhost:4000/api/user/registration",l)).status===422)throw new Error("Wrong")}catch(t){a.error(q(t))}};return(s,l)=>(i(),d(x,null,[E,p("form",{style:{gridTemplateAreas:`'Email Email'
      'Firstname Lastname'
      'Society Url'
      'Kbis Kbis'
      'Password Password'
      'Confirm_password Confirm_password'
    'button button'
  `},onSubmit:l[8]||(l[8]=_((...t)=>s.onSubmit&&s.onSubmit(...t),["prevent"])),class:"grid grid-cols-2 gap-4 w-full"},[o(u,{type:"email",label:"Email",modelValue:e.value.email,"onUpdate:modelValue":l[0]||(l[0]=t=>e.value.email=t),required:"true"},null,8,["modelValue"]),o(u,{type:"text",label:"Firstname",modelValue:e.value.firstName,"onUpdate:modelValue":l[1]||(l[1]=t=>e.value.firstName=t)},null,8,["modelValue"]),o(u,{type:"text",label:"Lastname",modelValue:e.value.lastname,"onUpdate:modelValue":l[2]||(l[2]=t=>e.value.lastname=t)},null,8,["modelValue"]),o(u,{type:"text",label:"Society",modelValue:e.value.society,"onUpdate:modelValue":l[3]||(l[3]=t=>e.value.society=t),required:"true"},null,8,["modelValue"]),o(u,{type:"text",label:"Url",modelValue:e.value.url,"onUpdate:modelValue":l[4]||(l[4]=t=>e.value.url=t),required:"true"},null,8,["modelValue"]),o(u,{type:"file",label:"Kbis",onChange:l[5]||(l[5]=t=>r.value=t.target.files[0]),required:"true"}),o(u,{type:"password",label:"Password",modelValue:e.value.password,"onUpdate:modelValue":l[6]||(l[6]=t=>e.value.password=t),required:"true"},null,8,["modelValue"]),o(u,{type:"password",label:"Confirm_password",modelValue:e.value.confirmPassword,"onUpdate:modelValue":l[7]||(l[7]=t=>e.value.confirmPassword=t),required:"true"},null,8,["modelValue"]),o(g,{style:{gridArea:"button"},type:"submit",onClick:n},{default:V(()=>[y("Join")]),_:1})],32)],64))}},T={style:{paddingTop:"0"},class:"grid md:grid-cols-1/3 grid-cols-1 mx-auto w-full h-screen"},I=["src"],A={class:"pt-24 mx-auto h-full md:w-4/6 w-[28rem] place-items-center"},K={__name:"RegisterView",setup(m){const{user:a}=k("user"),e=P(),r=()=>{a.value.isLogged&&e.push("/")};return r(),$(a.value,()=>{r()}),(n,s)=>(i(),d("main",T,[p("img",{src:`/join/join${h(U)(1,6)}.jpg`,alt:"join Image",class:"h-full md:block hidden pt-0 object-cover"},null,8,I),p("section",A,[o(F)])]))}};export{K as default};
